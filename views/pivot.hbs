<script>
  /*
   "dimensions":["continent","robot","country","city","newPage","unpatrolled","namespace","anonymous","language","page","region","user"],
   "metrics":["deleted","added","count","delta"]
   */

  var ds = [
    {
      name: 'wiki',
      title: 'Wikipedia Edits',
      maxTime: '2013-02-27T00:00:00Z',
      attributes: {
        time: { type: 'TIME' },

        robot: { type: 'STRING' },
        newPage: { type: 'STRING' },
        unpatrolled: { type: 'STRING' },
        namespace: { type: 'STRING' },
        anonymous: { type: 'STRING' },
        language: { type: 'STRING' },
        page: { type: 'STRING' },
        user: { type: 'STRING' },

        continent: { type: 'STRING' },
        country: { type: 'STRING' },
        city: { type: 'STRING' },
        region: { type: 'STRING' },

        count: { type: 'NUMBER' },
        added: { type: 'NUMBER' },
        deleted: { type: 'NUMBER' },
        delta: { type: 'NUMBER' }

        //user_unique: {special: 'unique'}
      }
    },
    {
      name: 'wiki_alt',
      title: 'Wikipedia Alternative',
      maxTime: '2013-02-27T00:00:00Z',
      timeAttribute: '$alt_time',
      dimensions: [
        { name: 'alt_time', type: 'TIME' },

        { name: 'alt_namespace' },
        { name: 'alt_language' },
        { name: 'alt_page' },
        { name: 'alt_user' },
        { name: 'alt_country' },
        { name: 'alt_city' },
        { name: 'alt_region' }
      ],
      measures: [
        { name: 'alt_count' },
        { name: 'alt_added' },
        { name: 'alt_deleted' },
        { name: 'alt_diff', expression: '$main.sum($alt_added) + $main.sum($alt_deleted)'  },
        { name: 'alt_delta' }
      ]
    }
  ];
</script>
<script src="/pivot.js?v={{version}}"></script>
